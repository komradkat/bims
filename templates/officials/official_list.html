{% extends "layouts/base.html" %}

{% block title %}Barangay Officials - BIMS{% endblock %}

{% block header_title %}Barangay Officials{% endblock %}

{% block content %}
<div style="margin-bottom: 2rem; display: flex; justify-content: flex-end;">
    <a href="{% url 'admin:officials_official_add' %}" class="btn btn-primary">Add Official</a>
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1.5rem;">
    {% for official in officials %}
    <div class="card" style="text-align: center; padding-top: 2rem;">
        <div style="width: 100px; height: 100px; background-color: #e0e0e0; border-radius: 50%; margin: 0 auto 1rem auto; overflow: hidden;">
            {% if official.photo %}
                <img src="{{ official.photo.url }}" alt="{{ official.first_name }}" style="width: 100%; height: 100%; object-fit: cover;">
            {% else %}
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #757575; font-size: 2rem;">
                    {{ official.first_name|first }}{{ official.last_name|first }}
                </div>
            {% endif %}
        </div>
        
        <h3 style="margin: 0 0 0.25rem 0; color: var(--color-primary);">{{ official.first_name }} {{ official.last_name }}</h3>
        <div style="font-weight: 600; color: var(--color-secondary); margin-bottom: 0.5rem;">{{ official.get_position_display }}</div>
        
        {% if official.committee %}
        <div style="font-size: 0.875rem; color: var(--color-text-secondary); margin-bottom: 1rem;">
            {{ official.committee }}
        </div>
        {% endif %}
        
        <div style="border-top: 1px solid var(--color-border); padding-top: 1rem; margin-top: 1rem; font-size: 0.875rem; color: var(--color-text-secondary);">
            Term: {{ official.induction_date|date:"Y" }} - {% if official.term_end_date %}{{ official.term_end_date|date:"Y" }}{% else %}Present{% endif %}
        </div>
    </div>
    {% empty %}
    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--color-text-secondary);">
        No officials found.
    </div>
    {% endfor %}
</div>
{% endblock %}
